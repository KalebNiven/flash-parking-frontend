(this["webpackJsonpflash-parking"]=this["webpackJsonpflash-parking"]||[]).push([[0],{29:function(t,e,a){},32:function(t,e,a){},38:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a(0),r=a(17),o=a.n(r),i=(a(29),a(30),a(8)),c=a.n(i),l=a(11),p=a(18),b=a(19),d=a(9),u=a(23),h=a(22),g=a.p+"static/media/flash_parking_logo-1.0cde0285.png",j=(a(32),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(p.a)(this,a),(n=e.call(this,t)).getParkingLot=function(){var t=Object(l.a)(c.a.mark((function t(e){var a,s,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.state.REACT_APP_URL,t.next=3,fetch(a+"getParkingLot?lot="+e,{method:"GET"});case 3:return s=t.sent,t.next=6,s.json();case 6:r=t.sent,console.log("testAPI response: ",r),n.setState({parkingLotID:r.ID,carsInLot:r.carsInLot,spotsAvailable:r.spotsAvailable,totalParkingSpots:r.totalParkingSpots});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.arrival=Object(l.a)(c.a.mark((function t(){var e,a,s,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={parkingLotID:n.state.parkingLotID,carsInLot:n.state.carsInLot,spotsAvailable:n.state.spotsAvailable,totalParkingSpots:n.state.totalParkingSpots},a={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},t.next=4,fetch(n.state.REACT_APP_URL+"arrival",a);case 4:return s=t.sent,t.next=7,s.json();case 7:r=t.sent,console.log("arrival response: ",r),n.setState({carsInLot:r.carsInLot,spotsAvailable:r.spotsAvailable,totalParkingSpots:r.totalParkingSpots});case 10:case"end":return t.stop()}}),t)}))),n.departure=Object(l.a)(c.a.mark((function t(){var e,a,s,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={parkingLotID:n.state.parkingLotID,carsInLot:n.state.carsInLot,spotsAvailable:n.state.spotsAvailable,totalParkingSpots:n.state.totalParkingSpots},a={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},t.next=4,fetch(n.state.REACT_APP_URL+"departure",a);case 4:return s=t.sent,t.next=7,s.json();case 7:r=t.sent,console.log("departure response: ",r),n.setState({carsInLot:r.carsInLot,spotsAvailable:r.spotsAvailable,totalParkingSpots:r.totalParkingSpots});case 10:case"end":return t.stop()}}),t)}))),n.state={carsInLot:0,totalParkingSpots:0,spotsAvailable:0,parkingLotID:"",REACT_APP_URL:"https://flash-parking-backend.herokuapp.com/"},n.getParkingLot=n.getParkingLot.bind(Object(d.a)(n)),n.arrival=n.arrival.bind(Object(d.a)(n)),n.departure=n.departure.bind(Object(d.a)(n)),n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.getParkingLot("C3")}},{key:"render",value:function(t){var e=this;return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"main",children:[Object(n.jsx)("img",{src:g,alt:"this is the flash parking logo"}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"welcome-font",children:"This is production mode"}),Object(n.jsxs)("div",{className:"vertical-center",children:[this.state.spotsAvailable<=0?Object(n.jsx)("div",{className:"row ",children:Object(n.jsx)("h2",{className:"warning-font font-weight-bold ",id:"edit-welcome-text",children:"PARKING LOT IS FULL!"})}):null,Object(n.jsx)("div",{className:"row ",children:Object(n.jsxs)("p",{className:"welcome-font font-weight-bold ",id:"edit-welcome-text",children:["WELCOME TO PARKING LOT: ",this.state.parkingLotID]})}),Object(n.jsx)("div",{className:"row mt-3",children:Object(n.jsxs)("p",{className:"welcome-font ",id:"parking-spots-avilable-text",children:["Number of spots available: ",this.state.spotsAvailable," / ",this.state.totalParkingSpots]})}),Object(n.jsxs)("div",{className:"row",children:[this.state.spotsAvailable>0?Object(n.jsx)("button",{type:"button",className:"btn btn-lg mr-4",onClick:function(){return e.arrival()},children:"ARRIVAL"}):Object(n.jsx)("button",{type:"button",className:"btn btn-lg mr-4",disabled:!0,onClick:function(){return e.arrival()},children:"ARRIVAL"}),this.state.spotsAvailable<this.state.totalParkingSpots?Object(n.jsx)("button",{className:"btn btn-lg",onClick:function(){return e.departure()},children:"DEPARTURE"}):Object(n.jsx)("button",{className:"btn btn-lg",disabled:!0,onClick:function(){return e.departure()},children:"DEPARTURE"})]})]})]})]})})}}]),a}(s.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=a(20),k=a(2);o.a.render(Object(n.jsx)(v.a,{children:Object(n.jsx)(k.c,{children:Object(n.jsx)(k.a,{path:"/",component:j})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.57d9ac94.chunk.js.map